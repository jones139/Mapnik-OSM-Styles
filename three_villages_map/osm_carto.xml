<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE Map[]>
<Map background-color="#c0e0f8" srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs">

<FontSet name="fontset-0">
  <Font face-name="Times New Roman Regular"/>
  <Font face-name="FreeSerif Medium"/>
  <Font face-name="DejaVu Serif Book"/>
</FontSet>
<Style name="coastline-fill" filter-mode="first">
  <Rule>
    <PolygonSymbolizer fill="#e0e0c0" gamma="0.75" />
  </Rule>
</Style>
<Style name="coastline-outline" filter-mode="first">
  <Rule>
    <LineSymbolizer stroke="#88ccee" stroke-width="1.6" />
  </Rule>
</Style>
<Layer
      name="coastline"
   srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs +over">
    <StyleName>coastline-outline</StyleName>
    <StyleName>coastline-fill</StyleName>
    <Datasource>
       <Parameter name="file">/home/graham/OSM/data/mapdata/world_boundaries/processed_p.shp</Parameter>
       <Parameter name="type">shape</Parameter>
    </Datasource>
  </Layer>

<Style name="grid" filter-mode="first">
  <Rule>
    <LineSymbolizer stroke="#eeeeee" stroke-width="1" />
  </Rule>
</Style>
<Layer
      name="grid"
   srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs +over">
    <StyleName>grid</StyleName>
    <Datasource>
       <Parameter name="file">/home/graham/OSM/data/Mapnik-OSM-Styles/three_villages_map/grid.shp</Parameter>
       <Parameter name="type">shape</Parameter>
    </Datasource>
  </Layer>

<Style name="landuse" filter-mode="first">
  <Rule>
    <Filter>([landuse] = 'forest')</Filter>
    <PolygonSymbolizer fill="#a0d0a0" />
  </Rule>
  <Rule>
    <Filter>([landuse] = 'industrial')</Filter>
    <PolygonSymbolizer fill="#a0a0a0" />
  </Rule>
  <Rule>
    <Filter>([landuse] = 'residential')</Filter>
    <PolygonSymbolizer fill="#b0b0b0" />
  </Rule>
</Style>
<Layer
      name="landuse"
   srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs">
    <StyleName>landuse</StyleName>
    <Datasource>
       <Parameter name="type">postgis</Parameter>
       <Parameter name="dbname">mapnik</Parameter>
       <Parameter name="user">www</Parameter>
       <Parameter name="password">1234</Parameter>
       <Parameter name="host">localhost</Parameter>
       <Parameter name="port"></Parameter>
       <Parameter name="table">(select way,landuse,name from planet_osm_polygon where landuse is not null) as landuse</Parameter>
    </Datasource>
  </Layer>

<Style name="leisure-poly" filter-mode="first">
  <Rule>
    <Filter>([leisure] = 'park')</Filter>
    <PolygonSymbolizer fill="#80c080" />
  </Rule>
</Style>
<Layer
      name="leisure-poly"
   srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs">
    <StyleName>leisure-poly</StyleName>
    <Datasource>
       <Parameter name="type">postgis</Parameter>
       <Parameter name="dbname">mapnik</Parameter>
       <Parameter name="user">www</Parameter>
       <Parameter name="password">1234</Parameter>
       <Parameter name="host">localhost</Parameter>
       <Parameter name="port"></Parameter>
       <Parameter name="table">(select way,leisure,name from planet_osm_polygon where leisure is not null) as leisure</Parameter>
    </Datasource>
  </Layer>

<Style name="natural-poly" filter-mode="first">
  <Rule>
    <Filter>([natural] = 'beach')</Filter>
    <PolygonSymbolizer fill="#ffffa0" />
  </Rule>
</Style>
<Layer
      name="natural-poly"
   srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs">
    <StyleName>natural-poly</StyleName>
    <Datasource>
       <Parameter name="type">postgis</Parameter>
       <Parameter name="dbname">mapnik</Parameter>
       <Parameter name="user">www</Parameter>
       <Parameter name="password">1234</Parameter>
       <Parameter name="host">localhost</Parameter>
       <Parameter name="port"></Parameter>
       <Parameter name="table">(select way,"natural",name from planet_osm_polygon where "natural" is not null) as "natural"</Parameter>
    </Datasource>
  </Layer>

<Style name="natural-line" filter-mode="first">
  <Rule>
    <Filter>([natural] = 'peak')</Filter>
    <ShieldSymbolizer file="symbols/poi_peak.p.32.png" name="[name]" fontset-name="fontset-0" dy="32" />
    <LineSymbolizer stroke="#00ff00" stroke-width="1" />
  </Rule>
  <Rule>
    <Filter>([natural] = 'cliff')</Filter>
    <LineSymbolizer stroke="#0000ff" stroke-width="4" />
  </Rule>
  <Rule>
    <LineSymbolizer stroke="#00ff00" stroke-width="1" />
  </Rule>
</Style>
<Style name="natural-line-outline" filter-mode="first">
  <Rule>
    <Filter>([natural] = 'cliff')</Filter>
    <LineSymbolizer stroke="#000000" stroke-width="6" />
  </Rule>
</Style>
<Layer
      name="natural-line"
   srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs">
    <StyleName>natural-line-outline</StyleName>
    <StyleName>natural-line</StyleName>
    <Datasource>
       <Parameter name="type">postgis</Parameter>
       <Parameter name="dbname">mapnik</Parameter>
       <Parameter name="user">www</Parameter>
       <Parameter name="password">1234</Parameter>
       <Parameter name="host">localhost</Parameter>
       <Parameter name="port"></Parameter>
       <Parameter name="table">(select way,"natural",name from planet_osm_point where "natural" is not null) as "natural"</Parameter>
    </Datasource>
  </Layer>

<Style name="contours" filter-mode="first">
  <Rule>
    <LineSymbolizer stroke="#9cb197" stroke-width="0.5" />
  </Rule>
</Style>
<Layer
      name="contours"
   srs="+proj=latlong +datum=WGS84">
    <StyleName>contours</StyleName>
    <Datasource>
       <Parameter name="type">postgis</Parameter>
       <Parameter name="dbname">mapnik</Parameter>
       <Parameter name="user">www</Parameter>
       <Parameter name="password">1234</Parameter>
       <Parameter name="host">localhost</Parameter>
       <Parameter name="port"></Parameter>
       <Parameter name="table">(select way,height from contours where height::integer % 10 = 0) as contours</Parameter>
    </Datasource>
  </Layer>

<Style name="amenity-poly" filter-mode="first">
  <Rule>
    <Filter>([amenity] = 'parking')</Filter>
    <PolygonSymbolizer fill="#000000" />
  </Rule>
</Style>
<Layer
      name="amenity-poly"
   srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs">
    <StyleName>amenity-poly</StyleName>
    <Datasource>
       <Parameter name="type">postgis</Parameter>
       <Parameter name="dbname">mapnik</Parameter>
       <Parameter name="user">www</Parameter>
       <Parameter name="password">1234</Parameter>
       <Parameter name="host">localhost</Parameter>
       <Parameter name="port"></Parameter>
       <Parameter name="table">(select way,amenity,name from planet_osm_polygon where amenity is not null) as amenity</Parameter>
    </Datasource>
  </Layer>

<Style name="building-poly" filter-mode="first">
  <Rule>
    <PolygonSymbolizer fill="#101010" />
  </Rule>
</Style>
<Layer
      name="building-poly"
   srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs">
    <StyleName>building-poly</StyleName>
    <Datasource>
       <Parameter name="type">postgis</Parameter>
       <Parameter name="dbname">mapnik</Parameter>
       <Parameter name="user">www</Parameter>
       <Parameter name="password">1234</Parameter>
       <Parameter name="host">localhost</Parameter>
       <Parameter name="port"></Parameter>
       <Parameter name="table">(select way,building,name from planet_osm_polygon where building is not null) as building</Parameter>
    </Datasource>
  </Layer>

<Style name="highways" filter-mode="first">
  <Rule>
    <Filter>([highway] = 'motorway_link')</Filter>
    <LineSymbolizer stroke="#0000ff" stroke-width="3" stroke-linejoin="round" />
    <TextSymbolizer size="3" placement="line" fontset-name="fontset-0" name="[name]" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'motorway')</Filter>
    <LineSymbolizer stroke="#0000ff" stroke-width="3" stroke-linejoin="round" />
    <TextSymbolizer size="3" placement="line" fontset-name="fontset-0" name="[name]" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'primary_link')</Filter>
    <LineSymbolizer stroke-linejoin="round" stroke="#ff0000" stroke-width="2" />
    <TextSymbolizer size="3" placement="line" fontset-name="fontset-0" name="[name]" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'primary')</Filter>
    <LineSymbolizer stroke-linejoin="round" stroke="#ff0000" stroke-width="2" />
    <TextSymbolizer size="3" placement="line" fontset-name="fontset-0" name="[name]" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'trunk_link')</Filter>
    <LineSymbolizer stroke-linejoin="round" stroke="#ff0000" stroke-width="2" />
    <TextSymbolizer size="3" placement="line" fontset-name="fontset-0" name="[name]" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'trunk')</Filter>
    <LineSymbolizer stroke-linejoin="round" stroke="#ff0000" stroke-width="2" />
    <TextSymbolizer size="3" placement="line" fontset-name="fontset-0" name="[name]" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'secondary')</Filter>
    <LineSymbolizer stroke="#ffff00" stroke-width="2" stroke-linejoin="round" />
    <TextSymbolizer size="3" placement="line" fontset-name="fontset-0" name="[name]" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'secondary_link')</Filter>
    <LineSymbolizer stroke="#ffff00" stroke-width="2" stroke-linejoin="round" />
    <TextSymbolizer size="3" placement="line" fontset-name="fontset-0" name="[name]" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'tertiary')</Filter>
    <LineSymbolizer stroke="#ffd000" stroke-width="2" stroke-linejoin="round" />
    <TextSymbolizer size="3" placement="line" fontset-name="fontset-0" name="[name]" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'tertiary_link')</Filter>
    <LineSymbolizer stroke="#ffd000" stroke-width="2" stroke-linejoin="round" />
    <TextSymbolizer size="3" placement="line" fontset-name="fontset-0" name="[name]" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'residential')</Filter>
    <LineSymbolizer stroke="#ffffff" stroke-width="1" stroke-linejoin="round" />
    <TextSymbolizer placement="line" fontset-name="fontset-0" name="[name]" size="0" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'road')</Filter>
    <LineSymbolizer stroke="#ffffff" stroke-width="1" stroke-linejoin="round" />
    <TextSymbolizer placement="line" fontset-name="fontset-0" name="[name]" size="0" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'service')</Filter>
    <LineSymbolizer stroke="#ffffff" stroke-width="1" stroke-linejoin="round" />
    <TextSymbolizer placement="line" fontset-name="fontset-0" name="[name]" size="0" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'unclassified')</Filter>
    <LineSymbolizer stroke="#ffffff" stroke-width="3" stroke-linejoin="round" />
    <TextSymbolizer placement="line" fontset-name="fontset-0" name="[name]" size="0" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'path')</Filter>
    <LineSymbolizer stroke="#05a005" stroke-width="0.5" stroke-linejoin="round" />
    <TextSymbolizer placement="line" fontset-name="fontset-0" name="[name]" size="0" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'steps')</Filter>
    <LineSymbolizer stroke="#05a005" stroke-width="0.5" stroke-linejoin="round" />
    <TextSymbolizer placement="line" fontset-name="fontset-0" name="[name]" size="0" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'pedestrian')</Filter>
    <LineSymbolizer stroke="#05a005" stroke-width="0.5" stroke-linejoin="round" />
    <TextSymbolizer placement="line" fontset-name="fontset-0" name="[name]" size="0" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'footway')</Filter>
    <LineSymbolizer stroke="#05a005" stroke-width="0.5" stroke-linejoin="round" />
    <TextSymbolizer placement="line" fontset-name="fontset-0" name="[name]" size="0" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'track')</Filter>
    <LineSymbolizer stroke="#10c010" stroke-width="1" stroke-linejoin="round" />
    <TextSymbolizer placement="line" fontset-name="fontset-0" name="[name]" size="0" />
  </Rule>
  <Rule>
    <LineSymbolizer stroke-linejoin="round" stroke="#00ff00" stroke-width="1" />
    <TextSymbolizer placement="line" fontset-name="fontset-0" name="[name]" size="0" />
  </Rule>
</Style>
<Style name="highways-outline" filter-mode="first">
  <Rule>
    <Filter>([highway] = 'motorway_link')</Filter>
    <LineSymbolizer stroke="#000000" stroke-width="4" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'motorway')</Filter>
    <LineSymbolizer stroke="#000000" stroke-width="4" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'primary')</Filter>
    <LineSymbolizer stroke-linejoin="round" stroke="#000000" stroke-width="3" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'primary_link')</Filter>
    <LineSymbolizer stroke-linejoin="round" stroke="#000000" stroke-width="3" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'trunk_link')</Filter>
    <LineSymbolizer stroke-linejoin="round" stroke="#000000" stroke-width="3" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'trunk')</Filter>
    <LineSymbolizer stroke-linejoin="round" stroke="#000000" stroke-width="3" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'secondary')</Filter>
    <LineSymbolizer stroke-linejoin="round" stroke="#000000" stroke-width="3" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'secondary_link')</Filter>
    <LineSymbolizer stroke-linejoin="round" stroke="#000000" stroke-width="3" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'tertiary')</Filter>
    <LineSymbolizer stroke-linejoin="round" stroke="#000000" stroke-width="3" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'tertiary_link')</Filter>
    <LineSymbolizer stroke-linejoin="round" stroke="#000000" stroke-width="3" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'residential')</Filter>
    <LineSymbolizer stroke="#000000" stroke-width="2" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'road')</Filter>
    <LineSymbolizer stroke="#000000" stroke-width="2" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'service')</Filter>
    <LineSymbolizer stroke="#000000" stroke-width="2" />
  </Rule>
  <Rule>
    <Filter>([highway] = 'unclassified')</Filter>
    <LineSymbolizer stroke="#000000" stroke-width="4" />
  </Rule>
</Style>
<Layer
      name="highways"
   srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs">
    <StyleName>highways-outline</StyleName>
    <StyleName>highways</StyleName>
    <Datasource>
       <Parameter name="type">postgis</Parameter>
       <Parameter name="dbname">mapnik</Parameter>
       <Parameter name="user">www</Parameter>
       <Parameter name="password">1234</Parameter>
       <Parameter name="host">localhost</Parameter>
       <Parameter name="port"></Parameter>
       <Parameter name="table">(select way,planet_osm_line.highway,name,ref,priority from planet_osm_line join highway_priorities on (planet_osm_line.highway=highway_priorities.highway) where planet_osm_line.highway is not null order by priority desc) as highways</Parameter>
    </Datasource>
  </Layer>

<Style name="places" filter-mode="first">
  <Rule>
    <Filter>([place] = 'village')</Filter>
    <TextSymbolizer name="[name]" fontset-name="fontset-0" text-transform="uppercase" character-spacing="1" line-spacing="4" size="6" wrap-width="60" allow-overlap="true" halo-radius="1" halo-fill="rgba(255, 255, 255, 0.75)" />
  </Rule>
  <Rule>
    <Filter>([place] = 'town')</Filter>
    <TextSymbolizer name="[name]" fontset-name="fontset-0" text-transform="uppercase" character-spacing="1" line-spacing="4" size="8" wrap-width="60" allow-overlap="true" halo-radius="1" halo-fill="rgba(255, 255, 255, 0.75)" />
  </Rule>
</Style>
<Layer
      name="places"
   srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs">
    <StyleName>places</StyleName>
    <Datasource>
       <Parameter name="type">postgis</Parameter>
       <Parameter name="dbname">mapnik</Parameter>
       <Parameter name="user">www</Parameter>
       <Parameter name="password">1234</Parameter>
       <Parameter name="host">localhost</Parameter>
       <Parameter name="port"></Parameter>
       <Parameter name="table">(select way,place,name from planet_osm_point where place is not null) as places</Parameter>
    </Datasource>
  </Layer>

<Layer
      name="aeroway-point"
   srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs">
    
    <Datasource>
       <Parameter name="type">postgis</Parameter>
       <Parameter name="dbname">mapnik</Parameter>
       <Parameter name="user">www</Parameter>
       <Parameter name="password">1234</Parameter>
       <Parameter name="host">localhost</Parameter>
       <Parameter name="port"></Parameter>
       <Parameter name="table">(select way,aeroway,name from planet_osm_point where aeroway is not null) as aeroway</Parameter>
    </Datasource>
  </Layer>

<Layer
      name="amenity-point"
   srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs">
    
    <Datasource>
       <Parameter name="type">postgis</Parameter>
       <Parameter name="dbname">mapnik</Parameter>
       <Parameter name="user">www</Parameter>
       <Parameter name="password">1234</Parameter>
       <Parameter name="host">localhost</Parameter>
       <Parameter name="port"></Parameter>
       <Parameter name="table">(select way,amenity,name from planet_osm_point where amenity is not null) as amenity</Parameter>
    </Datasource>
  </Layer>

<Style name="historic-point" filter-mode="first">
  <Rule>
    <Filter>([historic] = 'ruin')</Filter>
    <PointSymbolizer file="symbols/tourist_ruin.glow.32.png" allow-overlap="true" />
    <TextSymbolizer size="0" allow-overlap="true" halo-radius="1" halo-fill="rgba(255, 255, 255, 0.75)" fontset-name="fontset-0" dy="5" name="[name]" />
  </Rule>
  <Rule>
    <Filter>([historic] = 'ruins')</Filter>
    <PointSymbolizer file="symbols/tourist_ruin.glow.32.png" allow-overlap="true" />
    <TextSymbolizer size="0" allow-overlap="true" halo-radius="1" halo-fill="rgba(255, 255, 255, 0.75)" fontset-name="fontset-0" dy="5" name="[name]" />
  </Rule>
  <Rule>
    <Filter>([historic] = 'castle')</Filter>
    <PointSymbolizer file="symbols/tourist_ruin.glow.32.png" allow-overlap="true" />
    <TextSymbolizer size="0" allow-overlap="true" halo-radius="1" halo-fill="rgba(255, 255, 255, 0.75)" fontset-name="fontset-0" dy="5" name="[name]" />
  </Rule>
  <Rule>
    <Filter>([historic] = 'archaeological_site')</Filter>
    <PointSymbolizer file="symbols/tourist_ruin.glow.32.png" allow-overlap="true" />
    <TextSymbolizer size="0" allow-overlap="true" halo-radius="1" halo-fill="rgba(255, 255, 255, 0.75)" fontset-name="fontset-0" dy="5" name="[name]" />
  </Rule>
  <Rule>
    <Filter>([historic] = 'monument')</Filter>
    <PointSymbolizer file="symbols/tourist_ruin.glow.32.png" allow-overlap="true" />
    <TextSymbolizer size="0" allow-overlap="true" halo-radius="1" halo-fill="rgba(255, 255, 255, 0.75)" fontset-name="fontset-0" dy="5" name="[name]" />
  </Rule>
  <Rule>
    <Filter>([historic] = 'memorial')</Filter>
    <PointSymbolizer file="symbols/tourist_ruin.glow.32.png" allow-overlap="true" />
    <TextSymbolizer size="0" allow-overlap="true" halo-radius="1" halo-fill="rgba(255, 255, 255, 0.75)" fontset-name="fontset-0" dy="5" name="[name]" />
  </Rule>
  <Rule>
    <PointSymbolizer allow-overlap="true" />
    <TextSymbolizer size="0" allow-overlap="true" halo-radius="1" halo-fill="rgba(255, 255, 255, 0.75)" fontset-name="fontset-0" dy="5" name="[name]" />
  </Rule>
</Style>
<Layer
      name="historic-point"
   srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs">
    <StyleName>historic-point</StyleName>
    <Datasource>
       <Parameter name="type">postgis</Parameter>
       <Parameter name="dbname">mapnik</Parameter>
       <Parameter name="user">www</Parameter>
       <Parameter name="password">1234</Parameter>
       <Parameter name="host">localhost</Parameter>
       <Parameter name="port"></Parameter>
       <Parameter name="table">(select way,historic,name from planet_osm_point where historic is not null) as historic</Parameter>
    </Datasource>
  </Layer>

<Layer
      name="shop-point"
   srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs">
    
    <Datasource>
       <Parameter name="type">postgis</Parameter>
       <Parameter name="dbname">mapnik</Parameter>
       <Parameter name="user">www</Parameter>
       <Parameter name="password">1234</Parameter>
       <Parameter name="host">localhost</Parameter>
       <Parameter name="port"></Parameter>
       <Parameter name="table">(select way,shop,name from planet_osm_point where shop is not null) as shop</Parameter>
    </Datasource>
  </Layer>

<Style name="routes" filter-mode="first">
  <Rule>
    <Filter>([route] = 'hiking')</Filter>
    <LineSymbolizer stroke-linejoin="round" stroke="#0000ff" stroke-width="3" />
  </Rule>
</Style>
<Layer
      name="routes"
   srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs">
    <StyleName>routes</StyleName>
    <Datasource>
       <Parameter name="type">postgis</Parameter>
       <Parameter name="dbname">mapnik</Parameter>
       <Parameter name="user">www</Parameter>
       <Parameter name="password">1234</Parameter>
       <Parameter name="host">localhost</Parameter>
       <Parameter name="port"></Parameter>
       <Parameter name="table">(select way,route,name,ref from planet_osm_line where route is not null) as routes</Parameter>
    </Datasource>
  </Layer>

</Map>
